{{!< default}}
{{!-- 
/**
 * @Stake v3
 * Developed by Engagement Lab, 2016
 * ==============
 * 
 * Script include for global logic
 * ==========
 */
--}}

var screensAnim;

function playerEntry() {

	var animTiming = [.5, .6, .7, .8];
	var entryButtons = $('.gameLanding a');
	
  _.each(entryButtons, function(el, index) {

		timeline.add(TweenMax.fromTo(el, animTiming[index], {scale:0}, {scale:1, ease:Elastic.easeOut}));

  });

  timeline.play();

}

function rulesAnim(callback) {

	var screens = $('.row.screen');

	if(screens.length === 0)
		return;
  
  screensAnim = new TimelineLite({ paused: true, onComplete: 
																										  	function() { TweenLite.fromTo($('#btn-next'), 1, {scale:0, autoAlpha:0}, {scale:1, autoAlpha:1, display:'block', ease:Elastic.easeOut}); } 
																		});
	
  _.each(screens, function(el, index) {

		screensAnim.fromTo(el, .5, {xPercent:-100}, { x:0, xPercent:0, ease:Expo.easeInOut, opacity: 1, display:'table-cell', delay:.5 });

		if ($(el).find('.rules-image')) {
			$('rules-image').show();
		}

		if(index < screens.length-1)
			screensAnim.fromTo(el, .5, {xPercent:0}, { x:200, xPercent:200, ease:Expo.easeInOut, opacity:0, display:'none', delay:3 });

  });

  screensAnim.play();
	
}